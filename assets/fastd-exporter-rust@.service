[Unit]
Description="Prometheus exporter for fastd tunnels"

[Service]
EnvironmentFile=/etc/default/fastd-exporter-rust
ExecStart=/usr/bin/fastd-exporter-rust $ARGS %i
Restart=always
User=root
Group=root
Restart=on-failure
PrivateTmp=yes
CapabilityBoundingSet=CAP_NET_ADMIN
MemoryLimit=50M
ProtectSystem=full
ProtectKernelTunables=true
ProtectControlGroups=true
MemoryDenyWriteExecute=true
RestrictRealtime=true

[Install]
WantedBy=multi-user.target
